/* Contao Open Source CMS, (c) 2005-2014 Leo Feyer, LGPL license */
var Stylect={isWebkit:Browser.chrome||Browser.safari||navigator.userAgent.match(/(?:webkit|khtml)/i),template:new Element("div",{"class":"styled_select",html:"<span></span><b><i></i></b>"}),update:function(e){var t=e.retrieve("div"),s=e.getElement('option[value="'+Slick.escapeRegExp(e.value)+'"]');t&&s&&t.getElement("span").set("text",s.get("text"))},keydown:function(e){setTimeout(function(){Stylect.update(e)},100)},focus:function(e){e.addClass("focused")},blur:function(e){e.removeClass("focused")},convertSelects:function(){Browser.ie6||Browser.ie7||Browser.ie8||$$("select").each(function(e){if(!e.get("multiple")&&!e.hasClass("tl_chosen")){var t=e.get("class"),s=e.retrieve("div"),n=e.get("style");s||(s=Stylect.template.clone(),s.addClass(t).inject(e,"before")),e.setStyle("opacity",0),Stylect.isWebkit&&e.setStyle("margin-bottom","4px"),e.addEvents({change:function(){Stylect.update(e)},keydown:function(){Stylect.keydown(e)},focus:function(){Stylect.focus(s)},blur:function(){Stylect.blur(s)}}),e.disabled&&s.addClass("disabled"),e.hasClass("active")&&s.addClass("active"),n&&n.test("(^width|[^-]width)")&&s.setStyle("width",e.getStyle("width")),e.store("div",s),Stylect.update(e)}})}};window.addEvent("domready",function(){Stylect.convertSelects()}),window.addEvent("ajax_change",function(){Stylect.convertSelects()});